# TopTours.ai .htaccess Configuration
# Handle Next.js routing (static HTML files in dist/ are legacy and should NOT be served)

# Enable rewrite engine
RewriteEngine On
RewriteBase /

# NOTE: Static HTML files in dist/destinations/ are legacy and create redirect loops
# Next.js handles all routing and SEO through its own system
# DISABLED - Let Next.js handle all routing:
# # Serve static HTML for social media crawlers and SEO bots
# RewriteCond %{HTTP_USER_AGENT} (facebookexternalhit|Twitterbot|LinkedInBot|WhatsApp|Telegram|Slack|Discord|Skype|Viber|Line|Kik|WeChat|QQ|Baiduspider|Googlebot|bingbot|YandexBot|DuckDuckBot|Slurp|ia_archiver) [NC]
# RewriteCond %{REQUEST_URI} ^/destinations/([^/]+)$
# RewriteCond %{DOCUMENT_ROOT}/destinations/$1.html -f
# RewriteRule ^destinations/([^/]+)$ /destinations/$1.html [L]
#
# # Serve static HTML for destinations listing page for crawlers
# RewriteCond %{HTTP_USER_AGENT} (facebookexternalhit|Twitterbot|LinkedInBot|WhatsApp|Telegram|Slack|Discord|Skype|Viber|Line|Kik|WeChat|QQ|Baiduspider|Googlebot|bingbot|YandexBot|DuckDuckBot|Slurp|ia_archiver) [NC]
# RewriteCond %{REQUEST_URI} ^/destinations/?$
# RewriteCond %{DOCUMENT_ROOT}/destinations.html -f
# RewriteRule ^destinations/?$ /destinations.html [L]

# Handle /destinations route - let Next.js handle this
RewriteCond %{REQUEST_URI} ^/destinations/?$
RewriteRule ^destinations/?$ index.html [L]

# For all other requests, serve Next.js app
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [L]

# Set custom header
<IfModule mod_headers.c>
  Header set X-Powered-By "2xGen.com"
</IfModule>
